# DATA

## 浮点数

### 1. 如何计算小数的二进制 
举个例子
，$ 0.125 = \frac{1}{8}$，不难发现，$1 = 0.125*2^3$，我们都知道一个数乘$2^3$等价于这个数左移 3 位，于是我们可以定义，$0.125 = 1>>3 = 0.001_2$

当然，这是一个恰好可以用$2^n$表达的数，我们还需要知道像$\frac{1}{3}$这样的数据如何表达

假设这个数为$n(n<1)$，因为$n<1$，所以$n$的二进制表达一定是$0.x_1x_2x_3x_4...$的形式我们不断对$n$进行**左移一位**操作，即乘2操作，如果一次操作之后$n$的值小于$1$，则说明$0.x_1x_2x_3x_4...$的$x_1$为0，大于$1$时则为1，为了保证之后的左移不会导致$n>1$，此时需要$--n$，当n为0时，循环结束（当然你会发现有很多小数都是无限循环）

### 2. 计算机中的二进制是如何存储的
IEEE浮点数规范：
$(-1)^sM2^E$，其中s表示符号位，M 是一个1.几的小数表示尾数，E 是指数位

举个例子，$5.125 = 5+\frac{1}{8} = \frac{41}{8} = 101.001$

按照IEEE规范，这个数应该是$5.125 = (-1)^0*1.01001 * 2^2$
符号位s：由于 5.125 是正数，符号位为 0。

指数位E：将指数位表示为偏移值加上偏移量的二进制表示。偏移量为 127，偏移值为 2。所以指数位为 2 + 127 = 129，二进制表示为 10000001。

尾数位M：将尾数位表示为标准化后的二进制小数部分。即 01001。 

最终，将符号位、指数位和尾数位按照顺序组合起来，得到 32 位的二进制表示：0 10000001 01001000000000000000000。

单精度浮点数 float：32 位，符号位 S 占 1 bit，指数 E 占 8 bit，尾数 M 占 23 bit

双精度浮点数 float：64 位，符号位 S 占 1 bit，指数 E 占 11 bit，尾数 M 占 52 bit